<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- ... остальной код без изменений ... -->
</head>
<body>
    <!-- ... остальной код без изменений ... -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Общие компоненты - всегда загружаются в правильном порядке -->
    <script src="{{ url_for('static', filename='js/components/api-integration.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/alerts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/modals.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/filters.js') }}"></script>
    
    <!-- Скрипты конкретных страниц -->
    {% block scripts %}{% endblock %}
</body>
</html>